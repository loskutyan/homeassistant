title: 'Детская'
icon: mdi:bed

cards:
  - type: vertical-stack
    title: 'Вентиляция'
    cards:
      - type: entities
        title: 'Очиститель воздуха'
        show_header_toggle: false
        entities:
          - entity: fan.mijia_airpurifier_kidsroom
            name: 'Состояние'

          - entity: switch.kidsroom_airpurifier_forced_ventilation
            name: 'Режим проветривания'
            state_color: true

          - entity: input_select.kidsroom_airpurifier_mode
            name: 'Режим работы'

          - type: conditional
            conditions:
              - entity: input_select.kidsroom_airpurifier_mode
                state: 'Favorite'
            row:
              type: custom:multiple-entity-row
              entity: switch.kidsroom_airpurifier_favourite_speed_smart_control
              name: 'Умное управление скоростью'
              toggle: true
              state_color: true
              entities:
              - entity: switch.kidsroom_airpurifier_favourite_speed_temporary_fixed
                name: 'Фикс. скорость'
                toggle: true

          - type: conditional
            conditions:
              - entity: input_select.kidsroom_airpurifier_mode
                state: 'Favorite'
              - entity: binary_sensor.kidsroom_airpurifier_favourite_speed_fixed
                state: 'on'
            row:
              type: custom:slider-entity-row
              entity: input_number.kidsroom_airpurifier_favorite_speed
              name: 'Заданная скорость'
              hide_state: false

          - entity: sensor.kidsroom_airpurifier_current_speed
            name: 'Текущая скорость'

          - type: custom:multiple-entity-row
            entity: switch.kidsroom_airpurifier_ptc
            name: 'Нагреватель'
            toggle: true
            state_color: true
            entities:
            - entity: binary_sensor.kidsroom_airpurifier_ptc_status
              name: 'Статус'
              icon: true


      - type: conditional
        conditions:
          - entity: switch.warm_season
            state: 'on'
        card:
          type: entities
          title: 'Кондиционер'
          show_header_toggle: false
          entities:
            - type: custom:multiple-entity-row
              entity: switch.kidsroom_ac
              name: 'Состояние'
              toggle: true
              state_color: true
              entities:
                - entity: switch.kidsroom_ac_plug
                  name: 'Питание'
                  toggle: true
                - entity: sensor.kidsroom_ac_plug_power
                  name: 'Мощность'
  
            - entity: input_select.kidsroom_ac_mode
              name: 'Режим'
  
            - type: conditional
              conditions:
                - entity: input_select.kidsroom_ac_mode
                  state: 'cool'
              row:
                entity: switch.kidsroom_auto_conditioning
                name: 'Автоматическое охлаждение'
                state_color: true
  
            - type: conditional
              conditions:
                - entity: input_boolean.kidsroom_auto_conditioning
                  state: 'on'
                - entity: input_select.kidsroom_ac_mode
                  state: 'cool'
              row:
                type: custom:slider-entity-row
                entity: input_number.kidsroom_target_cooling_temperature
                name: 'Температура'
                hide_state: false
  
            - type: conditional
              conditions:
                - entity: input_boolean.kidsroom_auto_conditioning
                  state: 'off'
                - entity: input_select.kidsroom_ac_mode
                  state: 'cool'
              row:
                type: custom:slider-entity-row
                entity: input_number.kidsroom_ac_temperature
                name: 'Температура'
                hide_state: false
  
            - entity: input_select.kidsroom_ac_fan_mode
              name: 'Скорость обдува'
  
            - type: conditional
              conditions:
                - entity: input_select.kidsroom_ac_mode
                  state: 'fan_only'
              row:
                entity: input_select.kidsroom_ac_fan_swing_mode
                name: 'Направление обдува'
                hide_state: false


  - type: vertical-stack
    title: 'Свет'
    cards:
      - type: custom:light-entity-card
        entity: light.kidsroom_wall_aqara_led_bulbs
        header: 'Бра'
        consolidate_entities: true
        shorten_cards: true
        brightness: true
        color_temp: true
        full_width_sliders: true
        show_slider_percent: true
        effects_list: false

      - type: entities
        entities:
          - entity: switch.kidsroom_lights_common_switch_left
            name: 'Люстра'
            icon: mdi:ceiling-light
          - entity: switch.kidsroom_nightlight_plug
            name: 'Ночник'
            icon: mdi:lightbulb-night

      - type: entities
        entities:
          - entity: switch.kidsroom_lights_smart_control
            name: 'Умное управление'
            state_color: true
            icon: mdi:lightbulb-auto

      - type: entities
        entities:
          - type: custom:slider-entity-row
            entity: cover.kidsroom_curtain
            name: 'Римская штора'
            step: 10
            hide_state: false


  - type: vertical-stack
    title: 'Климат'
    cards:      
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.kidsroom_average_temperature
            name: 'Температура'
        lower_bound: 18
        upper_bound: 32
        color_thresholds:
          - value: 21
            color: '#00FFFF'
          - value: 23
            color: '#00FF00'
          - value: 25
            color: '#FFFF00'
          - value: 27
            color: '#FFD700'
          - value: 29
            color: '#FF0000'
          - value: 35
            color: '#800000'
        animate: true
        line_width: 2
        hour24: true
        points_per_hour: 1
        group_by: hour

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.kidsroom_average_humidity
            name: 'Влажность'
        lower_bound: 15
        upper_bound: 75
        color_thresholds:
          - value: 20
            color: '#FF0000'
          - value: 30
            color: '#FFD700'
          - value: 45
            color: '#00FF00'
          - value: 60
            color: '#00FFFF'
          - value: 80
            color: '#0000FF'
        animate: true
        line_width: 2
        hour24: true
        points_per_hour: 1
        group_by: hour


  - type: vertical-stack
    title: 'Качество воздуха'
    cards:      
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.qingping_air_lite_co2
            name: 'CO²'
        lower_bound: 400
        upper_bound: 1200
        color_thresholds:
          - value: 450
            color: '#00FFFF'
          - value: 600
            color: '#00FF00'
          - value: 800
            color: '#FFFF00'
          - value: 1000
            color: '#FFD700'
          - value: 1200
            color: '#FF0000'
          - value: 9999
            color: '#800000'
        animate: true
        line_width: 2
        hour24: true
        points_per_hour: 1
        group_by: hour

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.qingping_air_lite_pm25
            name: 'PM2.5'
        lower_bound: 0.0
        upper_bound: 20.0
        color_thresholds:
          - value: 1
            color: '#00FFFF'
          - value: 3
            color: '#00FF00'
          - value: 10
            color: '#FFFF00'
          - value: 25
            color: '#FFD700'
          - value: 75
            color: '#FF0000'
          - value: 999
            color: '#800000'
        animate: true
        line_width: 2
        hour24: true
        points_per_hour: 1
        group_by: hour

      - type: custom:mini-graph-card
        entities:
          - entity: sensor.qingping_air_lite_pm10
            name: 'PM10'
        lower_bound: 0.0
        upper_bound: 20.0
        color_thresholds:
          - value: 1
            color: '#00FFFF'
          - value: 3
            color: '#00FF00'
          - value: 10
            color: '#FFFF00'
          - value: 25
            color: '#FFD700'
          - value: 75
            color: '#FF0000'
          - value: 999
            color: '#800000'
        animate: true
        line_width: 2
        hour24: true
        points_per_hour: 1
        group_by: hour
